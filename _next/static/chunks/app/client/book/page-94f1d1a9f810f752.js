(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{7637:function(e,t,a){Promise.resolve().then(a.bind(a,1434))},1434:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var s=a(3827),r=a(4090),n=a(7907),d=a(7307),l=a(6490),i=a(5890),o=a(180),c=a(1657),u=a(5754),m=a(7815),f=a(5216),x=a(7934),p=a(2457),g=a(9259),h=a(2706);function b(e){let{open:t,onOpenChange:a,barber:r,date:i,time:o}=e,c=(0,n.useRouter)();return i&&o?(0,s.jsx)(h.Vq,{open:t,onOpenChange:a,children:(0,s.jsxs)(h.cZ,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(h.fK,{children:[(0,s.jsx)(h.$N,{children:"Confirmar Reserva"}),(0,s.jsx)(h.Be,{children:"Revisa los detalles de tu cita antes de confirmar"})]}),(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("img",{src:r.image||"/placeholder.svg",alt:r.name,className:"h-16 w-16 rounded-full object-cover"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:r.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:r.shopName})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:i.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:o})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:r.address})]})]}),(0,s.jsx)("div",{className:"rounded-lg bg-muted p-3 text-sm",children:(0,s.jsxs)("p",{className:"flex items-center gap-2",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4 text-green-500"}),"Se enviar\xe1 una confirmaci\xf3n por WhatsApp"]})})]}),(0,s.jsxs)(h.cN,{children:[(0,s.jsx)(u.z,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),(0,s.jsx)(u.z,{onClick:()=>{alert("\xa1Reserva confirmada! Se ha enviado una notificaci\xf3n por WhatsApp."),a(!1),setTimeout(()=>{c.push("/client/dashboard")},0)},children:"Confirmar Reserva"})]})]})}):null}var y=a(9108),N=a(7805),v=a(4719);function j(e){let{className:t,classNames:a,showOutsideDays:r=!0,...n}=e;return(0,s.jsx)(v._W,{showOutsideDays:r,className:(0,c.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,c.cn)((0,u.d)({variant:"outline"}),"h-10 w-10 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-14 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:(0,c.cn)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent","range"===n.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:(0,c.cn)((0,u.d)({variant:"ghost"}),"h-14 w-14 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,s.jsx)(y.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,s.jsx)(N.Z,{className:"h-4 w-4"})}},...n})}j.displayName="MobileCalendar";let w=r.forwardRef((e,t)=>{let{className:a,children:r,onSubmit:n,...d}=e;return(0,s.jsx)("form",{ref:t,onSubmit:e=>{e.preventDefault(),null==n||n(e)},className:(0,c.cn)("space-y-4 md:space-y-6","touch-manipulation","text-base md:text-sm",a),...d,children:r})});w.displayName="MobileForm";let D=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,c.cn)("relative space-y-2","pb-4",a),...r})});D.displayName="MobileFormField";let _=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("label",{ref:t,className:(0,c.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70","min-h-[44px] flex items-center",a),...r})});_.displayName="MobileFormLabel";let C=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,c.cn)("relative","min-h-[44px]",a),...r})});C.displayName="MobileFormControl";let R={id:1,name:"Carlos Rodr\xedguez",image:"https://images.unsplash.com/photo-1621605815971-fbc98d665033?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",shopName:"Barber\xeda Estilo",address:"Av. Principal 123, Ciudad",schedule:{monday:{enabled:!0,ranges:[{start:"09:00",end:"18:00"}]},tuesday:{enabled:!0,ranges:[{start:"09:00",end:"18:00"}]},wednesday:{enabled:!0,ranges:[{start:"09:00",end:"18:00"}]},thursday:{enabled:!0,ranges:[{start:"09:00",end:"18:00"}]},friday:{enabled:!0,ranges:[{start:"09:00",end:"18:00"}]},saturday:{enabled:!0,ranges:[{start:"10:00",end:"15:00"}]},sunday:{enabled:!1,ranges:[]}},appointments:[{date:new Date(new Date().setDate(new Date().getDate()+1)).setHours(10,0,0,0),duration:40},{date:new Date(new Date().setDate(new Date().getDate()+1)).setHours(14,0,0,0),duration:40},{date:new Date(new Date().setDate(new Date().getDate()+2)).setHours(11,0,0,0),duration:40},{date:new Date(new Date().setDate(new Date().getDate()+2)).setHours(15,30,0,0),duration:40},{date:new Date(new Date().setDate(new Date().getDate()+3)).setHours(9,0,0,0),duration:40},{date:new Date(new Date().setDate(new Date().getDate()+3)).setHours(16,0,0,0),duration:40},{date:new Date(new Date().setDate(new Date().getDate()+4)).setHours(12,0,0,0),duration:40},{date:new Date(new Date().setDate(new Date().getDate()+5)).setHours(11,0,0,0),duration:40}]},z=e=>{if(!e)return{available:[],occupied:[]};let t=[],a=[],s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e.getDay()],r=R.schedule[s];if(!r.enabled||0===r.ranges.length)return{available:[],occupied:[]};for(let s of r.ranges){let[r,n]=s.start.split(":").map(Number),[d,l]=s.end.split(":").map(Number),i=new Date(e);i.setHours(r,n,0,0);let o=new Date(e);o.setHours(d,l,0,0);let c=new Date(i);for(;c.getTime()+24e5<=o.getTime();)R.appointments.some(e=>{let t=new Date(e.date);return t.getDate()===c.getDate()&&t.getMonth()===c.getMonth()&&t.getFullYear()===c.getFullYear()&&t.getHours()===c.getHours()&&t.getMinutes()===c.getMinutes()})?a.push(new Date(c)):t.push(new Date(c)),c=new Date(c.getTime()+24e5)}return{available:t,occupied:a}};function k(){(0,n.useSearchParams)().get("barberId");let[e,t]=(0,r.useState)(),[a,p]=(0,r.useState)(),[g,h]=(0,r.useState)(!1),[y,N]=(0,r.useState)([]),[v,k]=(0,r.useState)([]);return(0,r.useEffect)(()=>{if(e){let{available:t,occupied:a}=z(e);N(t),k(a),p(void 0)}else N([]),k([]),p(void 0)},[e]),(0,s.jsxs)("div",{className:"container max-w-md mx-auto px-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Reservar Cita"}),(0,s.jsxs)(w,{className:"space-y-6",children:[(0,s.jsx)(m.Zb,{className:"p-4",children:(0,s.jsxs)(D,{children:[(0,s.jsx)(_,{children:"Fecha"}),(0,s.jsx)(C,{children:(0,s.jsxs)(f.J2,{children:[(0,s.jsx)(f.xo,{asChild:!0,children:(0,s.jsxs)(u.z,{variant:"outline",className:(0,c.cn)("w-full justify-start text-left font-normal",!e&&"text-muted-foreground"),children:[(0,s.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),e?(0,i.WU)(e,"PPP",{locale:o.es}):"Selecciona una fecha"]})}),(0,s.jsx)(f.yk,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(j,{mode:"single",selected:e,onSelect:t,initialFocus:!0})})]})})]})}),e&&(0,s.jsx)(m.Zb,{className:"p-4",children:(0,s.jsxs)(D,{children:[(0,s.jsx)(_,{children:"Horario Disponible"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","14:00","14:30","15:00","15:30"].map(e=>(0,s.jsx)(u.z,{variant:a===e?"default":"outline",className:"h-12 text-base",onClick:()=>p(e),children:e},e))})]})}),(0,s.jsx)(u.z,{className:"w-full h-12 text-base",disabled:!e||!a,children:"Confirmar Reserva"})]}),(0,s.jsx)(x.Separator,{}),(0,s.jsxs)(m.Zb,{className:"border-primary/20",children:[(0,s.jsx)(m.Ol,{className:"bg-primary/5",children:(0,s.jsx)(m.ll,{children:"Detalles de la reserva"})}),(0,s.jsx)(m.aY,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("img",{src:R.image||"/placeholder.svg",alt:R.name,className:"h-16 w-16 rounded-full object-cover border-2 border-primary/20"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",children:R.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:R.shopName}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:R.address}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap gap-4",children:[e&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 text-primary"}),(0,s.jsx)("span",{className:"text-sm",children:e.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})})]}),a&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 text-primary"}),(0,s.jsx)("span",{className:"text-sm",children:a})]})]})]})]})}),(0,s.jsx)(m.eW,{className:"bg-muted/10",children:(0,s.jsx)(u.z,{className:"w-full",disabled:!e||!a,onClick:()=>{e&&a&&h(!0)},children:"Confirmar Reserva"})})]}),g&&(0,s.jsx)(b,{open:g,onOpenChange:h,barber:R,date:e,time:a||null})]})}},5754:function(e,t,a){"use strict";a.d(t,{d:function(){return i},z:function(){return o}});var s=a(3827),r=a(4090),n=a(9143),d=a(9769),l=a(1657);let i=(0,d.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:a,variant:r,size:d,asChild:o=!1,...c}=e,u=o?n.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(i({variant:r,size:d,className:a})),ref:t,...c})});o.displayName="Button"},7815:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return d},aY:function(){return c},eW:function(){return u},ll:function(){return i}});var s=a(3827),r=a(4090),n=a(1657);let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});d.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});i.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},2706:function(e,t,a){"use strict";a.d(t,{$N:function(){return x},Be:function(){return p},Vq:function(){return i},cN:function(){return f},cZ:function(){return u},fK:function(){return m}});var s=a(3827),r=a(4090),n=a(2936),d=a(2235),l=a(1657);let i=n.fC;n.xz;let o=n.h_;n.x8;let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});c.displayName=n.aV.displayName;let u=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(n.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[r,(0,s.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.VY.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let f=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="DialogFooter";let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});x.displayName=n.Dx.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});p.displayName=n.dk.displayName},5216:function(e,t,a){"use strict";a.d(t,{J2:function(){return l},xo:function(){return i},yk:function(){return o}});var s=a(3827),r=a(4090),n=a(7427),d=a(1657);let l=n.fC,i=n.xz,o=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:l=4,...i}=e;return(0,s.jsx)(n.h_,{children:(0,s.jsx)(n.VY,{ref:t,align:r,sideOffset:l,className:(0,d.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});o.displayName=n.VY.displayName},7934:function(e,t,a){"use strict";a.r(t),a.d(t,{Separator:function(){return l}});var s=a(3827),r=a(4090),n=a(1014),d=a(1657);let l=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:l=!0,...i}=e;return(0,s.jsx)(n.f,{ref:t,decorative:l,orientation:r,className:(0,d.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...i})});l.displayName=n.f.displayName},1657:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var s=a(3167),r=a(1367);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[915,447,688,851,254,971,69,744],function(){return e(e.s=7637)}),_N_E=e.O()}]);