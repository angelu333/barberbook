(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[448],{4270:function(e,t,a){Promise.resolve().then(a.bind(a,770))},770:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var s=a(3827),r=a(4090),n=a(9108),l=a(7805),i=a(7307),d=a(1213),o=a(6490),c=a(2235),u=a(1657),m=a(5754),f=a(7815),p=a(6143),x=a(1478),h=a(7788),g=a(8973),y=a(5509),v=a(5216),j=a(7658),w=a(110);let N={monday:{enabled:!0,ranges:[{start:"09:00",end:"18:00"}]},tuesday:{enabled:!0,ranges:[{start:"09:00",end:"18:00"}]},wednesday:{enabled:!0,ranges:[{start:"09:00",end:"18:00"}]},thursday:{enabled:!0,ranges:[{start:"09:00",end:"18:00"}]},friday:{enabled:!0,ranges:[{start:"09:00",end:"18:00"}]},saturday:{enabled:!0,ranges:[{start:"10:00",end:"15:00"}]},sunday:{enabled:!1,ranges:[]}},b=e=>{let t=[],a=new Date,s=["Juan P\xe9rez","Mar\xeda Garc\xeda","Carlos L\xf3pez","Ana Mart\xednez","Roberto S\xe1nchez","Laura Rodr\xedguez","Miguel Hern\xe1ndez","Sof\xeda Torres","Fernando D\xedaz","Luc\xeda G\xf3mez","Javier Ruiz","Carmen Flores"],r=["+52 123 456 7890","+52 234 567 8901","+52 345 678 9012","+52 456 789 0123","+52 567 890 1234","+52 678 901 2345"];for(let n=0;n<14;n++){let l=new Date(a);l.setDate(a.getDate()+n);let i=e[["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][l.getDay()]];if(!i.enabled||0===i.ranges.length)continue;let d=Math.floor(5*Math.random())+3,o=new Set;for(let e=0;e<d;e++){let d,c,u,m,f;let p=i.ranges[0],[x,h]=p.start.split(":").map(Number),[g,y]=p.end.split(":").map(Number),v=60*x+h,j=60*g+y-40;do c=Math.floor((d=20*Math.floor((d=v+Math.floor(Math.random()*(j-v)))/20))/60),u=d%60,m="".concat(c,":").concat(u);while(o.has(m)&&o.size<(j-v)/20);if(o.has(m))break;o.add(m);let w=new Date(l);w.setHours(c,u,0,0),f=w<a?Math.random()>.2?"completed":"cancelled":Math.random()>.3?"confirmed":"pending",t.push({id:"".concat(n,"-").concat(e),clientName:s[Math.floor(Math.random()*s.length)],clientPhone:r[Math.floor(Math.random()*r.length)],date:w,duration:40,status:f,service:Math.random()>.5?"Corte de cabello":"Corte + Barba",price:Math.random()>.5?"$200":"$300"})}}return t},S=e=>{let t={};return e.forEach(e=>{let a=e.date.toDateString();t[a]||(t[a]=[]),t[a].push(e)}),t},D=()=>{let e=[];for(let t=8;t<20;t++)for(let a=0;a<60;a+=20){if(19===t&&a+20>60)continue;let s=new Date;s.setHours(t,a,0,0),e.push(s)}return e};function T(){let{toast:e}=(0,h.pm)(),[t,a]=(0,r.useState)(new Date),[T,M]=(0,r.useState)(new Date),[E,A]=(0,r.useState)(null),[O,_]=(0,r.useState)(N),[z,k]=(0,r.useState)([]),[C,I]=(0,r.useState)("all"),[R,V]=(0,r.useState)("week");(0,r.useEffect)(()=>{k(b(O))},[O]);let P=(0,r.useMemo)(()=>"all"===C?z:z.filter(e=>e.status===C),[z,C]),Z=(0,r.useMemo)(()=>{let e=[];if("day"===R&&T)return[new Date(T)];let a=new Date(t);a.setDate(t.getDate()-t.getDay());for(let t=0;t<7;t++){let s=new Date(a);s.setDate(a.getDate()+t),e.push(s)}return e},[t,T,R]),L=(0,r.useMemo)(()=>D(),[]),F=(0,r.useMemo)(()=>S(P),[P]),U=e=>e.toLocaleDateString("es-ES",{weekday:"short",day:"numeric"}),H=(e,t)=>(F[e.toDateString()]||[]).find(e=>{let a=e.date.getHours(),s=e.date.getMinutes(),r=t.getHours(),n=t.getMinutes();return a===r&&s===n}),Q=e=>{let t=O[["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e.getDay()]];return t.enabled&&t.ranges.length>0},Y=(e,t)=>{let a=O[["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e.getDay()]];if(!a.enabled)return!1;let s=t.getHours(),r=t.getMinutes();return a.ranges.some(e=>{let[t,a]=e.start.split(":").map(Number),[n,l]=e.end.split(":").map(Number),i=60*s+r;return i>=60*t+a&&i<60*n+l})};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Agenda"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Gestiona tus citas y horarios"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)(w.mQ,{value:R,onValueChange:e=>{V(e),"day"!==e||T||M(new Date)},className:"mr-2",children:(0,s.jsxs)(w.dr,{className:"h-9",children:[(0,s.jsx)(w.SP,{value:"week",className:"text-xs px-3",children:"Semana"}),(0,s.jsx)(w.SP,{value:"day",className:"text-xs px-3",children:"D\xeda"})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.z,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:()=>{if("day"===R&&T){let e=new Date(T);e.setDate(T.getDate()-1),M(e);return}let e=new Date(t);e.setDate(t.getDate()-7),a(e)},children:(0,s.jsx)(n.Z,{className:"h-4 w-4"})}),(0,s.jsxs)(v.J2,{children:[(0,s.jsx)(v.xo,{asChild:!0,children:(0,s.jsx)(m.z,{variant:"outline",className:"h-9 px-3 text-xs font-normal",children:(()=>{if("day"===R&&T)return T.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"});if(0===Z.length)return"";let e=Z[0],t=Z[Z.length-1],a=e.toLocaleDateString("es-ES",{month:"long"}),s=t.toLocaleDateString("es-ES",{month:"long"});return a===s?"".concat(e.getDate()," - ").concat(t.getDate()," de ").concat(a,", ").concat(e.getFullYear()):"".concat(e.getDate()," de ").concat(a," - ").concat(t.getDate()," de ").concat(s,", ").concat(e.getFullYear())})()})}),(0,s.jsx)(v.yk,{className:"w-auto p-0",align:"center",children:(0,s.jsx)(j.f,{mode:"single",selected:T,onSelect:e=>{e&&(M(e),"week"===R&&a(e))},initialFocus:!0})})]}),(0,s.jsx)(m.z,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:()=>{if("day"===R&&T){let e=new Date(T);e.setDate(T.getDate()+1),M(e);return}let e=new Date(t);e.setDate(t.getDate()+7),a(e)},children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})]}),(0,s.jsxs)(y.Ph,{value:C,onValueChange:I,children:[(0,s.jsx)(y.i4,{className:"h-9 w-[130px]",children:(0,s.jsx)(y.ki,{placeholder:"Filtrar"})}),(0,s.jsxs)(y.Bw,{children:[(0,s.jsx)(y.Ql,{value:"all",children:"Todas"}),(0,s.jsx)(y.Ql,{value:"pending",children:"Pendientes"}),(0,s.jsx)(y.Ql,{value:"confirmed",children:"Confirmadas"}),(0,s.jsx)(y.Ql,{value:"completed",children:"Completadas"}),(0,s.jsx)(y.Ql,{value:"cancelled",children:"Canceladas"})]})]})]})]}),(0,s.jsxs)(f.Zb,{className:"overflow-hidden border-primary/20",children:[(0,s.jsxs)(f.Ol,{className:"bg-primary/5 pb-3",children:[(0,s.jsxs)(f.ll,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(i.Z,{className:"h-5 w-5 text-primary"}),"week"===R?"Vista Semanal":"Vista Diaria"]}),(0,s.jsx)(f.SZ,{children:"week"===R?"Visualiza y gestiona tus citas para la semana":"Visualiza y gestiona tus citas para el d\xeda seleccionado"})]}),(0,s.jsx)(f.aY,{className:"p-0",children:(0,s.jsxs)("div",{className:"grid grid-cols-8 gap-0 overflow-x-auto",children:[(0,s.jsx)("div",{className:"pt-10 bg-muted/30 border-r",children:L.map((e,t)=>(0,s.jsx)("div",{className:"flex h-16 items-center justify-end pr-2 text-xs font-medium",children:e.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})},t))}),Z.map((e,t)=>(0,s.jsxs)("div",{className:(0,u.cn)("flex flex-col","day"===R?"col-span-7":""),children:[(0,s.jsx)("div",{className:(0,u.cn)("h-10 border-b p-2 text-center sticky top-0 z-10",Q(e)?"bg-background":"bg-muted/50",e.toDateString()===new Date().toDateString()&&"bg-primary/10 font-medium"),children:(0,s.jsx)("div",{className:"text-xs font-medium",children:U(e)})}),L.map((a,r)=>{let n=H(e,a),l=Y(e,a);return(0,s.jsx)("div",{className:(0,u.cn)("relative h-16 border-b border-r p-1",!l&&"bg-muted/20",n&&l&&"bg-primary/10",(null==n?void 0:n.status)==="pending"&&"bg-yellow-500/10",(null==n?void 0:n.status)==="cancelled"&&"bg-red-500/10",(null==n?void 0:n.status)==="completed"&&"bg-green-500/10",r%3==0&&"border-t border-dashed border-t-muted"),children:n&&l?(0,s.jsx)(m.z,{variant:"ghost",className:(0,u.cn)("h-full w-full justify-start p-1 text-left","day"===R&&"flex-col items-start"),onClick:()=>A(n),children:(0,s.jsxs)("div",{className:(0,u.cn)("flex w-full flex-col overflow-hidden","day"===R&&"flex-row items-center gap-2"),children:[(0,s.jsxs)("span",{className:(0,u.cn)("flex items-center gap-1 text-xs font-medium","day"===R&&"text-sm"),children:[(0,s.jsx)(d.Z,{className:"h-3 w-3"}),n.clientName]}),(0,s.jsxs)("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,s.jsx)(o.Z,{className:"h-3 w-3"}),n.date.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})]}),(0,s.jsx)(x.C,{variant:"outline",className:(0,u.cn)("mt-1 text-[10px] h-4 w-fit","confirmed"===n.status&&"border-green-500 text-green-500","pending"===n.status&&"border-yellow-500 text-yellow-500","cancelled"===n.status&&"border-red-500 text-red-500","completed"===n.status&&"border-blue-500 text-blue-500","day"===R&&"text-xs h-5"),children:"confirmed"===n.status?"Confirmada":"pending"===n.status?"Pendiente":"completed"===n.status?"Completada":"Cancelada"}),"day"===R&&(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)("span",{className:"text-xs",children:n.service}),(0,s.jsx)("span",{className:"text-xs font-medium",children:n.price})]})]})}):null},"".concat(t,"-").concat(r))})]},t))]})})]}),E&&(0,s.jsxs)(f.Zb,{className:"border-primary/20",children:[(0,s.jsx)(f.Ol,{className:"bg-primary/5",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(f.ll,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(d.Z,{className:"h-5 w-5 text-primary"}),"Detalles de la cita"]}),(0,s.jsx)(f.SZ,{children:"Informaci\xf3n de la cita seleccionada"})]}),(0,s.jsx)(m.z,{variant:"ghost",size:"icon",onClick:()=>A(null),className:"h-8 w-8",children:(0,s.jsx)(c.Z,{className:"h-4 w-4"})})]})}),(0,s.jsx)(f.aY,{className:"p-6",children:(0,s.jsx)(p.e,{appointment:E,onClose:()=>A(null),onUpdate:t=>{k(z.map(e=>e.id===t.id?t:e)),e({title:"Cita actualizada",description:"La cita con ".concat(t.clientName," ha sido actualizada.")})}})})]}),(0,s.jsx)(g.x,{})]})}},5216:function(e,t,a){"use strict";a.d(t,{J2:function(){return i},xo:function(){return d},yk:function(){return o}});var s=a(3827),r=a(4090),n=a(7427),l=a(1657);let i=n.fC,d=n.xz,o=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:i=4,...d}=e;return(0,s.jsx)(n.h_,{children:(0,s.jsx)(n.VY,{ref:t,align:r,sideOffset:i,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...d})})});o.displayName=n.VY.displayName},8973:function(e,t,a){"use strict";a.d(t,{x:function(){return S}});var s=a(3827),r=a(4090);let n=0,l=new Map,i=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function u(e){c=d(c,e),o.forEach(e=>{e(c)})}function m(e){let{...t}=e,a=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>u({type:"DISMISS_TOAST",toastId:a});return u({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:a}})}}var f=a(6736),p=a(9769),x=a(2235),h=a(1657);let g=f.zt,y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(f.l_,{ref:t,className:(0,h.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...r})});y.displayName=f.l_.displayName;let v=(0,p.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),j=r.forwardRef((e,t)=>{let{className:a,variant:r,...n}=e;return(0,s.jsx)(f.fC,{ref:t,className:(0,h.cn)(v({variant:r}),a),...n})});j.displayName=f.fC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(f.aU,{ref:t,className:(0,h.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...r})}).displayName=f.aU.displayName;let w=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(f.x8,{ref:t,className:(0,h.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...r,children:(0,s.jsx)(x.Z,{className:"h-4 w-4"})})});w.displayName=f.x8.displayName;let N=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(f.Dx,{ref:t,className:(0,h.cn)("text-sm font-semibold",a),...r})});N.displayName=f.Dx.displayName;let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(f.dk,{ref:t,className:(0,h.cn)("text-sm opacity-90",a),...r})});function S(){let{toasts:e}=function(){let[e,t]=r.useState(c);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}();return(0,s.jsxs)(g,{children:[e.map(function(e){let{id:t,title:a,description:r,action:n,...l}=e;return(0,s.jsxs)(j,{...l,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[a&&(0,s.jsx)(N,{children:a}),r&&(0,s.jsx)(b,{children:r})]}),n,(0,s.jsx)(w,{})]},t)}),(0,s.jsx)(y,{})]})}b.displayName=f.dk.displayName},7788:function(e,t,a){"use strict";a.d(t,{pm:function(){return m}});var s=a(4090);let r=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=i(o,e),d.forEach(e=>{e(o)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(o);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},function(e){e.O(0,[915,569,447,688,851,568,776,559,462,971,69,744],function(){return e(e.s=4270)}),_N_E=e.O()}]);